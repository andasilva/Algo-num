<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="fr">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" >
<html>
  <head>
  	<script type="text/javascript">
		function simpson()
		{
			//Variable pour le calcul du temps 
			var StartTime=0;
			var elapsedTime = 0;
			startTime = new Date().getTime();
			with (Math)
			{				
				var a = 0 ;//Borne inférieur
				var b = 1 ;//Borne supérieur
				var n = 500 ; //Nombre d'itération
				var sommePaire = 0 ; 
				var sommeImpaire = 0 ;				
				var h = (b - a) / n; // calcul du pas
				for(i=1;i<n;i++) // Somme allant de 1 jusqu'à n
					{
					var x=a+i*h; // valeur du x à calculer
					if ((i%2) == 0) {sommePaire +=f(x);}//Modulo 2 donne si pair ou impair
					else {sommeImpaire +=f(x);}					
					}
				var result =h/3 * (f(a)+ 4 * sommeImpaire + 2 * sommePaire + f(b));
				
				elapsedTime = new Date().getTime() - startTime;//récupération du temps écoulé
				
				//affichage des valeurs
				res.innerHTML ="Valeur de PI : "+ result.toFixed(17);
				//alert("Resultat = "+result.toFixed(17));
				temps.innerHTML="temps : "+elapsedTime +" ms";
			}
		}
		//Fonction de base écrite sous la forme PI =
		function f(x)
		{			
			var res = (4 / (1 + (Math.pow(x,2))));
			return res;
		}
		
</script>
<title>Equipe 5 Labo 5</title>
  </head>
  <body>
    <h1>Intégration numérique</h1>
	<div id="storage"></div>
	<input type="button" name="calcul" value="Calcul de PI" onClick="simpson()">
	<div id="res"></div>
	<div id="temps"></div>
  </body>
  <footer>
  </br>
<h2>Contexte :</h2>
	<p>
		Le but du laboratoire est de développer un programme permettant d'approximer la valeur PI avec au moins 17 décimales et cela en utilisant la formule du cours donnée. Le temps de calcul doit également être affiché. Le cours propose plusieurs méthodes, donc on a le choix entre 2 méthodes de base et 2 méthodes avancées. Les 2 méthodes de base sont celle du rectangle et du trapèze (comprenant la méthode du point milieu, ses méthodes sont simples à mettre en place (rectangle un peu plus simple que trapèze) mais nécessite de nombreuse itération pour rendre l'erreur minime. La méthode de Simpson et la quadrature de Gauss sont un peu plus complexe, mais ces méthodes on l'avantage d'avoir une erreur plus faible que les méthodes précédente. La quadrature de Gauss quant à elle nécessite de trouver les bons coefficients Wi et Xi.
	</p>
<h2>Methodologie de développement :</h2>
	<p>
		Le temps de calcul étant important on est plutôt partie sur une des deux méthodes avancées (Nombre d'itération grandement plus faible que les méthodes de bases). On a donc choisi de partir sur la méthode de Simpson que l'on a trouvé plus simple et plus claire que celle de Gauss (Pas de coefficient à calculer et mieux imagée).
		La mise en place a été simple à réaliser (résolution des équations de la parabole présente dans le cours), une boucle allant de 1 jusqu'au nombre d'itération qui doit être un nombre pair. Si l'indice est pair, on le calcul et on ajoute la valeur à la variable sommePaire. S’il est impair on l'ajoute à sommeImpaire. On calcul ensuite le résultat de l'intégrale avec la méthode du cours.
	</p>
<h2>Conclusion et perspective :</h2>
	<p>
		La méthode est rapide et efficace, en effet le résultat est trouvé très rapidement (environ 5 ms) et reste assez proche de la valeur a calculé. Seuls les 2 derniers digits sont différents de la valeur de Pi. Malgré cela le résultat est satisfaisant et est correcte, puisque l'on approxime la valeur de Pi. La méthode de calcul est plutôt bonne puisque la valeur de l'erreur est faible, étant donnée qu'elle est de O(h<sup>4</sup>) 
  </footer>
</html>